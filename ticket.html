<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conference Ticket</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="styleTicket.css">
</head>
<body>
    <div class="container">
        <header>
            <img src="./assets/images/logo-full.svg" alt="Logo" class="logo">
        </header>
        <main>
            <img src="./assets/images/pattern-squiggly-line-bottom-desktop.svg" alt="" class="pattern-squiggly-bottom" aria-hidden="true">
            <img src="./assets/images/pattern-squiggly-line-top.svg" alt="" class="pattern-squiggly-top" aria-hidden="true">
            <img src="./assets/images/pattern-lines.svg" alt="" class="pattern-lines" aria-hidden="true">
            <section class="ticket-success">
                <h2>Congrats, <span class="highlight">Jonatan Kristof</span>!<br>Your ticket is ready.</h2>
                <p>
                  We've emailed your ticket to<br>
                  <span class="highlight-email">jonatan@email.com</span> and will send updates in the run up to the event.
                </p>
            </section>
            <section class="ticket">
                <div class="ticket-pattern-container">
                    <img src="./assets/images/pattern-ticket.svg" alt="" class="pattern-ticket" aria-hidden="true">
                    <div class="ticket-content">
                        <!-- Logo e nome do evento mais acima -->
                        <div class="ticket-header">
                            <img src="./assets/images/logo-mark.svg" alt="Coding Conf" class="ticket-logo">
                            <span class="event-title">Coding Conf</span>
                        </div>
                        <!-- Data dinâmica -->
                        <div class="event-date-location" id="event-date"></div>
                        <div class="ticket-user">
                            <img class="avatar" src="./assets/images/avatar-placeholder.svg" alt="User Avatar">
                            <div>
                                <div class="name">Jonatan Kristof</div>
                                <div class="github">jonatankristof0101</div>
                            </div>
                        </div>
                        <!-- ID lateral direita -->
                        <div class="ticket-id" id="ticket-id"></div>
                    </div>
                </div>
            </section>
        </main>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Preenche dados do usuário
        const data = JSON.parse(localStorage.getItem('ticketData') || '{}');
        if (!data.name) return;

        document.querySelector('.highlight').textContent = data.name;
        document.querySelector('.highlight-email').textContent = data.email;
        document.querySelector('.ticket-content .name').textContent = data.name;
        document.querySelector('.ticket-content .github').textContent = '@' + data.github;
        document.querySelector('.ticket-user .avatar').src = data.avatarUrl;

        // Data atual formatada
        const now = new Date();
        const options = { year: 'numeric', month: 'short', day: 'numeric' };
        const formattedDate = now.toLocaleDateString('en-US', options);
        document.getElementById('event-date').textContent = `${formattedDate} / Austin, TX`;

        // Gera um ID simples (exemplo: #TCK12345)
        function generateTicketId() {
          const random = Math.floor(10000 + Math.random() * 90000);
          return '#TCK' + random;
        }
        const ticketId = generateTicketId();
        document.getElementById('ticket-id').textContent = ticketId;
      });
    </script>
</body>
</html>